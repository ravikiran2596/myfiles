---
- name: install dotnet core 6.0
  become: yes
  hosts: all
  vars:
    dotnet_versions: "6.0"
  tasks:
    - name: Install apt transport https
      ansible.builtin.apt:
        name: apt-transport-https
        update_cache: yes 
        state: present   
      when: "'Ubuntu' in ansible_facts['distribution']"    
    - name: Install dotnet core
      ansible.builtin.apt:
        name: dotnet-sdk-{{ dotnet_versions }}
        update_cache: yes 
        state: present
      when: "'Ubuntu' in ansible_facts['distribution']"  
    - name: install redhat package manager
      ansible.builtin.package:
        name: https://packages.microsoft.com/config/centos/7/packages-microsoft-prod.rpm
        update_cache: yes 
        state: present
      when: "'CentOS' in ansible_facts['distribution']"    
    - name: install dotnet
      ansible.builtin.yum:    
        name: dotnet-sdk-7.0
        update_cache: yes 
        state: present
      when: "'CentOS' in ansible_facts['distribution']"  